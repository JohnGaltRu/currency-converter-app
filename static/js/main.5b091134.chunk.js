(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(2),c=n.n(o),u=(n(16),n(17),n(3)),s=n(4),i=n(5),l=n(7),m=n(6),h=n(9),f=n(8),p=(n(18),r.a.memo(function(e){var t=e.name,n=e.options,a=e.currentValue,o=e.onChange,c=Object(f.a)(e,["name","options","currentValue","onChange"]);return r.a.createElement("select",Object.assign({name:t,value:a,onChange:o},c),n.map(function(e,t){return r.a.createElement("option",{key:t},e)}))})),C=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={amount:null,result:null,fromCurrency:"USD",toCurrency:"RUB",currencies:[]},n.converting=function(){n.setState({loading:!0}),fetch("https://api.openrates.io/latest?base=".concat(n.state.fromCurrency,"&symbols=").concat(n.state.toCurrency)).then(function(e){return e.json()}).then(function(e){n.setState({loading:!1});var t=n.state.amount*e.rates[n.state.toCurrency];n.setState({result:t.toFixed(2)})}).catch(function(e){n.setState({loading:!1}),console.log("Opps",e.message)})},n.onChange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.switchCurrencies=function(){var e=n.state,t=e.toCurrency,a=e.fromCurrency;n.setState({fromCurrency:t,toCurrency:a})},n.onSubmit=function(e){e.preventDefault(),n.converting()},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.openrates.io/latest").then(function(e){return e.json()}).then(function(t){var n=t.rates,a=t.base,r=Object.keys(n).concat(a).sort();e.setState({currencies:r})}).catch(function(e){return console.log("Opps",e.message)})}},{key:"render",value:function(){var e=this.state,t=e.currencies,n=e.toCurrency,a=e.fromCurrency,o=e.result,c=e.loading;return r.a.createElement("div",{className:"Converter"},r.a.createElement("h2",null,"Currency Converter"),r.a.createElement("form",{className:"Form",onSubmit:this.onSubmit},r.a.createElement("input",{name:"amount",type:"number",onChange:this.onChange,min:"1",required:!0}),r.a.createElement(p,{name:"fromCurrency",currentValue:a,onChange:this.onChange,options:t}),r.a.createElement("span",{className:"switch",onClick:this.switchCurrencies},"<--\x3e"),r.a.createElement(p,{name:"toCurrency",currentValue:n,onChange:this.onChange,options:t}),r.a.createElement("button",{type:"submit"},"Convert")),c?r.a.createElement("h3",null,".....loading....."):r.a.createElement("h3",null,o))}}]),t}(a.Component);var g=function(){return r.a.createElement(C,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.5b091134.chunk.js.map